"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_toPropertyKey(n.key),n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0===i)return("string"===t?String:Number)(e);t=i.call(e,t||"default");if("object"!==_typeof(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){function s(e){if("string"!=typeof e)return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=";for(;e.match(/^\.+\//)||e.startsWith("/");)e=e.substring(e.indexOf("/")+1);return"./assets/"+e}function l(e,t){return"string"!=typeof e&&"object"===_typeof(e)&&null!==e&&e[t]&&(e=e[t]),Array.isArray&&Array.isArray(e)&&(e=e.join(" ")),(e||"No description")+""}var i=function(){function e(){_classCallCheck(this,e),this.modal=document.querySelector("[data-role='modal']"),this.inner=this.modal.querySelector(".inner"),this.innerText=this.inner.querySelector("p"),this.image=this.inner.querySelector("img"),this.imageData={},this.aborter=-1,this.isOpen=!1}return _createClass(e,[{key:"setImageData",value:function(e){this.imageData=e}},{key:"open",value:function(){var e,t,i=this;this.isOpen||(this.isOpen=!0,this.aborter=new AbortController,e=s(this.imageData.src),this.image.src=e,t=this.imageData.description,this.innerText.innerText=l(t,"long"),this.modal.classList.add("active"),this.modal.addEventListener("click",function(){i.close()},{signal:this.aborter.signal}),this.inner.addEventListener("click",function(e){e.stopPropagation()},{signal:this.aborter.signal}),this.image.addEventListener("click",function(){window.open(e,"_blank").focus()},{signal:this.aborter.signal}))}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.aborter.abort(),this.modal.classList.remove("active"))}}]),e}(),c=-1;window.addEventListener("moduleLoad",function(e){if("art"===e.detail.page){document.cookie.includes("dumb-alert")||(alert("don't mind the placeholder images they were the 2nd result on google lol"),document.cookie="dumb-alert; "+document.cookie),c=new i;var r,t=document.getElementById("artworks");try{r=Array.from(JSON.parse(t.innerHTML))}catch(e){return void console.warn(e)}var o=document.querySelector('[data-page="art"]');if(o)for(var a=0;a<r.length;a++)!function(){var e=r[a],t=document.createElement("div");t.classList.add("art-cell");var i=e.description,n=document.createElement("img");n.src=s(e.src),n.alt=l(i,"short"),n.setAttribute("aria-hidden","true"),t.appendChild(n),(i=document.createElement("div")).classList.add("overlay"),(n=document.createElement("p")).innerText=e.title+"",i.appendChild(n),t.appendChild(i),o.appendChild(t),t.addEventListener("click",function(){c.setImageData(e),c.open()})}()}}),window.addEventListener("moduleUnload",function(e){"art"===e.detail.page&&(-1!==c&&c.close(),c=-1)})}();